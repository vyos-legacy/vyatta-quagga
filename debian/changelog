vyatta-quagga (0.99.18-9) unstable; urgency=low

  * fix for bug 6433: BGP Peer configuration becomes out of sync with
    routing engine when adding or deleting peers to peer-group

 -- Robert Bays <robert@vyatta.com>  Tue, 19 Jul 2011 18:01:20 -0700

vyatta-quagga (0.99.18-8) unstable; urgency=low

  * new branch

 -- Deepti Kulkarni <deepti@vyatta.com>  Thu, 07 Jul 2011 20:58:45 -0700

vyatta-quagga (0.99.18-7) unstable; urgency=low

  [ Dmitrij Tejblum ]
  * ospf6d: copy "mtu-ignore" option from ospfd

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 02 May 2011 11:29:23 -0700

vyatta-quagga (0.99.18-6) unstable; urgency=low

  [ Stephen Hemminger ]
  * bgpd: refine the setting up of GTSM

  [ Paul Jakma ]
  * bgpd: Fix merge error in jhash commit

  [ Stephen Hemminger ]
  * Merge branch 'upstream' into napa

  [ Paul Jakma ]
  * doc: Add dependency for quagga.pdf make target
  * Revert "bgpd: "Intern" communities in route maps"

  [ Michael Lambert ]
  * bgpd: fix memory leak when deleting a community

  [ Paul Jakma ]
  * ospf6d: fix crash if zebra_interface_state_read can't find interface

  [ Ingo Flaschberger ]
  * ospf6d: fix crash if zebra_interface_state_read can't find interface

  [ Paul Jakma ]
  * ospf: Fix OSPF API and ospf-te LSA refreshers to match recent API
    change
  * bgpd: trivial format / warning fixes
  * zebra: trivial warning fix

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 19 Apr 2011 08:35:35 -0700

vyatta-quagga (0.99.18-5) unstable; urgency=low

  * Fix read past end of address

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 28 Mar 2011 13:49:17 -0700

vyatta-quagga (0.99.18-4) unstable; urgency=low

  * ospfd: set multicast sockopt when socket is created
  * smux: oid optimization

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Sat, 26 Mar 2011 12:07:22 -0700

vyatta-quagga (0.99.18-3) unstable; urgency=low

  [ Christian Hammers ]
  * lib: fix more format warnings (#637)

  [ Paul Jakma ]
  * bgpd: Fix compile failure if IPv6 build was disabled.

  [ Nick Hilliard ]
  * bgpd: RFC 5082 Generalized TTL Security Mechanism support

  [ Stephen Hemminger ]
  * bgpd: Cleanups & fixes for minttl / GTSM
  * lib: Add support for IPv6 ttl security

  [ Greg Troxel ]
  * build: treat opaque-lsa default correctly for ospfapi

  [ Stephen Hemminger ]
  * Revert "Restore old timer behaviour"
  * Revert "bgpd: "Intern" communities in route maps"

  [ Michael Lambert ]
  * bgpd: fix memory leak when deleting a community

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 24 Mar 2011 11:25:28 -0700

vyatta-quagga (0.99.18-2) unstable; urgency=low

  * Restore old timer behaviour

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 23 Mar 2011 16:25:40 -0700

vyatta-quagga (0.99.18-1) unstable; urgency=low

  [ Paul Jakma ]
  * bgpd: Simplify process queue init
  * lib: thread history funcname shouldn't be constant, it's freed
  * lib: Thread scheduler should be fair and not let events starve I/O
    and timers
  * lib: Add a command to clear the thread CPU history data
  * lib: Make workqueue more conservative about ramping up
  * lib: prefix.c nano-optimisation
  * lib: Fix bug in prefix trie lookup
  * ospfd: Lower level of some common messages from info to debug
  * ospfd: ospf_if_free can leave dangling references on ISM events -
    cancel them
  * ospfd: OSPF_MIN_LS_ARRIVAL compare should be >= to match ospf_flood
  * ospfd: interface code should leave  network_lsa_self alone
  * ospfd: fix lsa_refresh_walker unlock before use bug
  * ospfd: Fix various route_unlock discrepencies
  * ospfd: the maxage_lsa_remover should check whether it needs to yield
    the cpu
  * ospfd: Reset neighbour inactivity timer for any packet arrival
  * ospfd: Prioritise hellos for sending by queueing to head of output
    buffer
  * ospfd: Remember network LSA sequence numbers across up/downs of an
    interface
  * ospfd: Unify router and network LSA refresh logic with general
    refresher
  * ospfd: Fix maxage/flush to not try flood twice, remember maxages for
    longer
  * ospfd: potential fix for router-id change assert on refresh cleanup
    patch
  * ospfd: Remove oi field from LSA, have network_lsa_refresh look up
    when needed

  [ Stephen Hemminger ]
  * ripngd: copy debug statements fix from ripd

  [ John Kemp ]
  * bgpd: improve "monotonic" uptime correction

  [ Denis Ovsienko ]
  * doc: fix "ipv6 address" interface command syntax (#608)

  [ Chris Hall ]
  * lib: Fix accounting of memory

  [ Chris Caputo ]
  * bgpd: fix bgp_node locking issues

  [ Stephen Hemminger ]
  * bgpd: use XCALLOC to allocate bgpd damp array

  [ Robert Bays ]
  * bgpd: fix errors in aggregate address command
  * bgpd: unlock node on aggregate error

  [ Stephen Hemminger ]
  * bgpd: fix use of free memory by update_rsclient

  [ Wataru Tanitsu ]
  * bgpd: Fix display of unsigned attributes

  [ Barry Friedman ]
  * bgpd: Remove extra lock on interior table node

  [ Stephen Hemminger ]
  * lib: Better hashing of string values using Bernstein hash
  * bgpd: use Jenkins hash for BGP transit, cluster and attr hashes

  [ Tom Goff ]
  * lib: Add a function to delete all interfaces
  * lib: zlog should clean up its memory
  * ospf6d: Fix memory allocation issues in SPF
  * ospf6d: Remove obsolete code
  * ospf6d: Have ospf6d cleanup when it terminates normally
  * ospf6d: Route locking (memory) cleanup
  * ospf6d: Extend the "[no] debug ospf6 route" vty commands

  [ Paul Jakma ]
  * bgpd/security: CVE-2010-1674 Fix crash due to extended-community
    parser error
  * bgpd: Remove AS Path limit/TTL functionality
  * release: 0.99.18

  [ Michael Lambert ]
  * bgpd: New show commands for improved view and address family support
  * bgpd: "Intern" communities in route maps

  [ Stephen Hemminger ]
  * bgpd: leave peer socket in non-blocking mode (mostly)
  * lib: add TCP_CORK wrapper
  * bgpd: enable TCP corking

  [ Paul Jakma ]
  * build: change sense of opaque-{lsa,te} enable args to enable by
    default
  * ospfd: Compile fix for opaque support

  [ Stephen Hemminger ]
  * bgpd: attribute jhash call should use a standard interface to
    in6_addr data

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 22 Mar 2011 11:05:47 -0700

vyatta-quagga (0.99.17-18) unstable; urgency=low

  * Add more debug info for RIB_DEBUG
  * Don't delete connected route to other interface

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 17 Mar 2011 17:56:13 -0700

vyatta-quagga (0.99.17-17) unstable; urgency=low

  [ Dmitrij Tejblum ]
  * ospf6d: fix crash in SPF calculation
  * bgpd: fix handling of "Unsupported Capability"

  [ David Ward ]
  * bgpd: VTY string fixes for debug commands

  [ Andrew J. Schorr ]
  * ripd: resolve debug statements issue (bug 442)

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 04 Mar 2011 12:53:32 -0800

vyatta-quagga (0.99.17-16) unstable; urgency=low

  * new branch

 -- An-Cheng Huang <ancheng@vyatta.com>  Tue, 28 Dec 2010 13:51:48 -0800

vyatta-quagga (0.99.17-15) unstable; urgency=low

  * Turn on IPV6 min hop count support

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 21 Dec 2010 14:52:17 -0800

vyatta-quagga (0.99.17-14) unstable; urgency=low

  [ Denis Ovsienko ]
  * bgpd: fix community-list error message spelling

  [ Stephen Hemminger ]
  * Delete route even if there are no next hops

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 09 Dec 2010 10:44:16 -0800

vyatta-quagga (0.99.17-13) unstable; urgency=low

  * Drop non-established sessions when changing ttl-security
  * Update next hop interface for recursive route
  * Install man pages for quagga commands

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 01 Dec 2010 16:48:03 -0800

vyatta-quagga (0.99.17-12) unstable; urgency=low

  * Add metric when restoring connected routes
  * Put debug symbols in debug section

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 30 Nov 2010 09:28:54 -0800

vyatta-quagga (0.99.17-11) unstable; urgency=low

  [ Greg Troxel ]
  * Adjust description of tomhenderson repo.
  * infrastructure: Clarify commit message format.
  * infrastructure: Whitespace cleanup.
  * infrastructure: Express preference for published git repos

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 08 Nov 2010 10:58:46 -0800

vyatta-quagga (0.99.17-10) unstable; urgency=low

  [ Vladimir L Ivanov ]
  * bgpd: fix printed value of last-update timestamp

  [ Stephen Hemminger ]
  * Do not allow ttl-security with IBGP

 -- Stephen Hemminger <shemminger@vyatta.com>  Thu, 04 Nov 2010 11:51:33 -0700

vyatta-quagga (0.99.17-9) unstable; urgency=low

  [ Stig Thormodsrud ]
  * ZRevert "Fix out-of-bounds behaviour in ospf6_prefix_apply_mask If
    prefixlen was /32, /64, or /96, function would write 0x00 to first
    location outside prefix."

  [ David Lamparter ]
  * ospf6d: fix out of bounds write in ospf6_prefix_apply_mask

  [ Stig Thormodsrud ]

 -- Stig Thormodsrud <stig@vyatta.com>  Wed, 27 Oct 2010 14:44:41 -0700

vyatta-quagga (0.99.17-8) unstable; urgency=low

  [ Dmitry Tejblum ]
  * zclient: fix router-id calculation for IPv6 (#595)

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 20 Oct 2010 11:47:56 -0700

vyatta-quagga (0.99.17-7) unstable; urgency=low

  [ Greg Troxel ]
  * Set from even if binfo->extra is NULL.
  * Add pointer to Balaji G. git.
  * Document rules for zalloc and friends.

  [ Nico Golde ]
  * lib/vty.c: add missing format string when printing out motd message

  [ Greg Troxel ]
  * Add MTR repository.

  [ Michael Lambert ]
  * bgpd, lib: adopt afi_t and safi_t in several places

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 08 Oct 2010 15:43:17 -0700

vyatta-quagga (0.99.17-6) unstable; urgency=low

  * rebuild to link with new libsnmp/libcap

 -- An-Cheng Huang <ancheng@vyatta.com>  Fri, 03 Sep 2010 15:51:29 -0700

vyatta-quagga (0.99.17-5) unstable; urgency=low

  [ Wataru Tanitsu ]
  * Fix display of unsigned attributes

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 03 Sep 2010 09:10:41 -0700

vyatta-quagga (0.99.17-4) unstable; urgency=low

  * UNRELEASED

 -- An-Cheng Huang <ancheng@vyatta.com>  Thu, 02 Sep 2010 18:30:32 -0700

vyatta-quagga (0.99.17-3) unstable; urgency=low

  * fix squeeze build issues

 -- An-Cheng Huang <ancheng@vyatta.com>  Fri, 27 Aug 2010 16:45:48 -0700

vyatta-quagga (0.99.17-2) unstable; urgency=low

  * Change BGP hops message to match other vendor

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 26 Aug 2010 16:38:51 -0700

vyatta-quagga (0.99.17-1) unstable; urgency=low

  [ Denis Ovsienko ]
  * release: 0.99.17

  [ Stephen Hemminger ]
  * Zebra zserv: bogus conditional

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Sun, 22 Aug 2010 11:18:49 -0700

vyatta-quagga (0.99.16-24) unstable; urgency=low

  [ Stephen Hemminger ]
  * Handle distribute hash when no ifname present

 -- An-Cheng Huang <ancheng@vyatta.com>  Fri, 20 Aug 2010 08:41:14 -0700

vyatta-quagga (0.99.16-23) unstable; urgency=low

  * Revert "BGP: IPv6 use nexthop information provided by Zebra"
  * BGP: store nexthop info for redistributed IPV6 routes

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 18 Aug 2010 19:00:34 -0700

vyatta-quagga (0.99.16-22) unstable; urgency=low

  * Remove impossible condition check
  * Add common string hash function
  * Make some values const
  * Use Jhash for BGP attribute mixing
  * Fix zebra server conditional
  * BGP: IPv6 use nexthop information provided by Zebra

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 18 Aug 2010 17:36:19 -0700

vyatta-quagga (0.99.16-21) unstable; urgency=low

  [ Chris Hall ]
  * bgpd: fix handling of AS path data

 -- Stephen Hemminger <shemminger@lenny.localdomain>  Mon, 09 Aug 2010 13:03:24 -0700

vyatta-quagga (0.99.16-20) unstable; urgency=low

  * Fix IPv6 interface route

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Sat, 07 Aug 2010 13:45:31 -0700

vyatta-quagga (0.99.16-19) unstable; urgency=low

  * UNRELEASED

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Sat, 07 Aug 2010 13:43:43 -0700

vyatta-quagga (0.99.16-18) unstable; urgency=low

  * Change to modified Bernstein hash for interface name
  * Use Jenkins hash for BGP transit and cluster
  * Replace BGP attribute hash

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 04 Aug 2010 16:47:16 -0700

vyatta-quagga (0.99.16-17) unstable; urgency=low

  * Shortcircuit active check on blackhole
  * Fix indentation of blackhole related code
  * Add IPv6 blackhole support
  * Use XCALLOC to allocate bgpd damp array
  * Fix use of free memory by update_rsclient

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 03 Aug 2010 16:08:23 -0700

vyatta-quagga (0.99.16-16) unstable; urgency=low

  * UNRELEASED

 -- An-Cheng Huang <ancheng@vyatta.com>  Thu, 22 Jul 2010 17:25:51 -0700

vyatta-quagga (0.99.16-15) unstable; urgency=low

  * Display GTSM security info when showing neighbor
  * Set TTL on listening socket to 255
  * Add BGP support for IPv6 ttl security

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 21 Jul 2010 21:20:42 -0700

vyatta-quagga (0.99.16-14) unstable; urgency=low

  * Allow ttl-security value to be changed

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 20 Jul 2010 15:54:59 -0700

vyatta-quagga (0.99.16-13) unstable; urgency=low

  * Allow Quagga daemons to dump core

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 14 Jul 2010 16:24:53 -0700

vyatta-quagga (0.99.16-12) unstable; urgency=low

  * fix for bug 5821

 -- Robert Bays <robert@vyatta.com>  Mon, 12 Jul 2010 15:27:53 -0700

vyatta-quagga (0.99.16-11) unstable; urgency=low

  * Revert "Add debug logging for bgp attribute refcount"

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Sat, 03 Jul 2010 09:38:39 -0700

vyatta-quagga (0.99.16-10) unstable; urgency=low

  * Fix email address in changelog
  * Add debug logging for bgp attribute refcount

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 01 Jul 2010 15:42:48 -0700

vyatta-quagga (0.99.16-9) unstable; urgency=low

  [ Chris Hall ]
  * bgpd: tighten bounds checking in RR ORF msg reader

  [ Stephen Hemminger ]
  * Revert "Clear pointer to attr after unintern"

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 10 Jun 2010 16:17:25 -0700

vyatta-quagga (0.99.16-8) unstable; urgency=low

  * fix spelling and make sure to unlock BGP node if failure

 -- Robert Bays <rbays@vyatta.com>  Mon, 07 Jun 2010 16:29:19 -0700

vyatta-quagga (0.99.16-7) unstable; urgency=low

  * fix error in quagga aggregate-address command

 -- Robert Bays <rbays@vyatta.com>  Mon, 07 Jun 2010 15:38:59 -0700

vyatta-quagga (0.99.16-6) unstable; urgency=low

  [ David Ward ]
  * ospf6d: Fix crash when '[no] ipv6 ospf6 advertise prefix-list' is in
    startup-config

  [ David Lamparter ]
  * isisd: change ISIS_METHOD to use C preprocessor
  * build: ignore mkinstalldirs and texinfo.tex

  [ Greg Troxel ]
  * Update for git and emphasize asking for good reports.

  [ Roman Hoog Antink ]
  * zebra: fix infinite loop when deleting an interface

  [ Stephen Hemminger ]
  * Depend on proper version of libcap
  * Clear pointer to attr after unintern
  * Make sure capability library is on build environment

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 07 May 2010 11:08:18 -0700

vyatta-quagga (0.99.16-5) unstable; urgency=low

  [ Jon Andersson ]
  * Fix out-of-bounds behaviour in ospf6_prefix_apply_mask If prefixlen
    was /32, /64, or /96, function would write 0x00 to first location
    outside prefix.

 -- Stig Thormodsrud <stig@vyatta.com>  Mon, 26 Apr 2010 17:33:02 -0700

vyatta-quagga (0.99.16-4) unstable; urgency=low

  [ Greg Troxel ]
  * git: add (generated) m4 files to .gitignore
  * git: add pointers to out-of-tree work

  [ Joakim Tjernlund ]
  * ospfd: Make sure all external routes are updated.
  * ospfd: Make sure ospf_distribute_list_update_timer() eventually
    runs.
  * ospfd: Only refresh external default route once.

  [ Greg Troxel ]
  * build/extra: Enhance README.NetBSD make/gmake decision.

  [ Stephen Hemminger ]
  * Fix email address in changelog

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 26 Apr 2010 10:16:34 -0700

vyatta-quagga (0.99.16-3) unstable; urgency=low

  [ Greg Troxel ]
  * build: Add QuaggaId to README.NetBSD

  [ Ivan Moskalyov ]
  * doc: fixed spelling in bgpd.texi

  [ Stephen Hemminger ]
  * remove isisd from shutdown

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 08 Jan 2010 11:31:00 -0800

vyatta-quagga (0.99.16-2) unstable; urgency=low

  * BGP GTSM support

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 09 Mar 2010 20:14:04 -0800

vyatta-quagga (0.99.16-1) unstable; urgency=low

  [ Stephen Hemminger ]
  * lib: undo the last PIE commit

  [ Denis Ovsienko ]
  * release: 0.99.16

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 09 Mar 2010 10:17:06 -0800

vyatta-quagga (0.99.15-26) unstable; urgency=low

  * Don't build ISIS
  * Ignore mkinstalldirs
  * Don't start RIPNG if IPv6 disabled
  * Better check for IPv6
  * Remove vyatta from filenames and path

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 08 Mar 2010 16:33:42 -0800

vyatta-quagga (0.99.15-25) unstable; urgency=low

  * Remove unused function
  * Align with upstream
  * Fix recursive route slowdown
  * Fix recursive route change detect logic
  * Mark static routes as INTERNAL

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 04 Mar 2010 15:58:04 -0800

vyatta-quagga (0.99.15-24) unstable; urgency=low

  * UNRELEASED

 -- An-Cheng Huang <ancheng@vyatta.com>  Wed, 17 Feb 2010 16:16:03 -0800

vyatta-quagga (0.99.15-23) unstable; urgency=low

  * Remove check for RIP_METRIC_INFINITY to match ripng behavior.

 -- Stig Thormodsrud <stig@vyatta.com>  Tue, 16 Feb 2010 11:15:42 -0800

vyatta-quagga (0.99.15-22) unstable; urgency=low

  * route-map no set metric command not sent to ospf6d.
  * no_set_metric_val_cmd not sent to ripd.

 -- Stig Thormodsrud <stig@vyatta.com>  Sun, 14 Feb 2010 17:27:13 -0800

vyatta-quagga (0.99.15-21) unstable; urgency=low

  * Use Debian hardening in build

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 03 Feb 2010 13:45:04 -0800

vyatta-quagga (0.99.15-20) unstable; urgency=low

  * Revert "Add background attribute for commands"

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 01 Feb 2010 17:27:53 -0800

vyatta-quagga (0.99.15-19) unstable; urgency=low

  * Revert "lib: fix PIE build flags"
  * Revert "Inherit Position Indpendent build options"

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 25 Jan 2010 23:05:27 -0800

vyatta-quagga (0.99.15-18) unstable; urgency=low

  [ Stephen Hemminger ]
  * lib: make some structures constant
  * zebra: change router-id selection algo

  [ David Ward ]
  * lib: fix memory logging

  [ Paul Jakma ]
  * ospfd: remove unneeded memset from a very hot function
  * ospfd: Fix debug messages that were masked by DISCARD_LSA

  [ Stephen Hemminger ]
  * Revert "Add BGP snapshot command"
  * Add background attribute for commands
  * bgp: use monotonic clock for time of day

  [ Paul Jakma ]
  * Add signal safe zlog_<level> functions, and catch SIGCHLD by default

  [ Mathias Krause ]
  * lib: fix PIE build flags

  [ Stephen Hemminger ]
  * Revert "Add signal safe zlog_<level> functions, and catch SIGCHLD by
    default"
  * Revert "Add BGP snapshot command"
  * Inherit Position Indpendent build options

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 25 Jan 2010 17:18:07 -0800

vyatta-quagga (0.99.15-17) unstable; urgency=low

  * Fix 5237: ospfv3: adding interface to multiple areas should cause
    commit failed.

 -- Stig Thormodsrud <stig@vyatta.com>  Wed, 20 Jan 2010 14:56:12 -0800

vyatta-quagga (0.99.15-16) unstable; urgency=low

  * Add missing include
  * Add BGP snapshot command

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 13 Jan 2010 15:19:37 -0800

vyatta-quagga (0.99.15-15) unstable; urgency=low

  * BGP: fix crash when allowas-in is done
  * Remove except fd set from thread select
  * BGP: only use write event for non-blocking connect
  * BGP: leave peer socket in non-blocking mode (mostly)
  * remove unused stream_read_unblock
  * Add TCP_CORK wrapper
  * BGP: enable TCP corking

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 12 Jan 2010 15:33:21 -0800

vyatta-quagga (0.99.15-14) unstable; urgency=low

  * Use monotonic clock for BGP

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 11 Jan 2010 15:50:59 -0800

vyatta-quagga (0.99.15-13) unstable; urgency=low

  * Change compiler flags

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 11 Jan 2010 14:54:02 -0800

vyatta-quagga (0.99.15-12) unstable; urgency=low

  * Revert "zebra: router-id table not sorted properly."
  * Take first router-id and keep it
  * Ignore mkinstalldirs which changes during build

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 18 Dec 2009 16:30:49 -0800

vyatta-quagga (0.99.15-11) unstable; urgency=low

  * bgpd: code cleanup
  * zebra: router-id table not sorted properly.

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 17 Dec 2009 15:59:23 -0800

vyatta-quagga (0.99.15-10) unstable; urgency=low

  * lib: make match functions take const args
  * zebra: remove unused function to fix warning
  * zebra: fix more compiler warnings
  * zebra: fix more warnings in rtadv
  * lib: fix warning on little endian
  * lib: move check_bit into prefix common code
  * zebra: cleanup RIB meta queue code
  * bgpd: compile warnings cleanup
  * zebra: deal with irdp compile warnings
  * ripngd: compiler warnings cleanup
  * ospf6d: fix warnings from recent prefix bit commit
  * ospf6d: remove dead code
  * ripd: fix compiler warnings
  * vty: fix warnings
  * irdp: warning cleanup
  * irdp: fix uninitialized variable
  * ripd: cleanup
  * ripng: compiler warning cleanup
  * ospf: cleanup
  * Add prefix6_bit
  * Subject: ospf6d: remove dead code
  * Fix ifdef for vty_serv_sock_family
  * Ignore derived file mkinstalldirs

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 10 Dec 2009 11:24:41 -0800

vyatta-quagga (0.99.15-9) unstable; urgency=low

  [ David Ward ]
  * isisd: fix BPF ioctl() calls, treat "true" and "false" as reserved

  [ heasley ]
  * zebra: fix argument reference in strncpy() call for BSD

  [ David Ward ]
  * isisd: fix --enable-isis-topology for 64-bit Linux
  * zebra: handle RTF_CLONING removal from FreeBSD 8.0

  [ Denis Ovsienko ]
  * bgpd: work around warning in assegments_parse()

  [ Ondrej Zajicek ]
  * ospf6d: review LSA sequence number comparison

  [ heasley ]
  * lib: log source of vty connections (bug #566)

  [ Denis Ovsienko ]
  * lib: remove unused function: route_dump_node()

  [ Stephen Hemminger ]
  * table: remove unused macro
  * table: make match functions take const args

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 07 Dec 2009 11:57:46 -0800

vyatta-quagga (0.99.15-8) unstable; urgency=low

  [ Dmitry Tejblum ]
  * configure: fix HAVE_CLOCK_MONOTONIC spelling

  [ Tom Goff ]
  * ospf6d: fix LSA locking in ospf6_new_ls_id()
  * zebra: make declaration const in rtm_flag_dump()

  [ David Ward ]
  * zebra: fix RIB debug message for IPv6

  [ Stephen Hemminger ]
  * ospfd: make local functions static
  * ospfd: comment out unused function
  * ospfd: VTY strings cleanup

  [ David Ward ]
  * configure: fix spelling

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 03 Dec 2009 09:47:47 -0800

vyatta-quagga (0.99.15-7) unstable; urgency=low

  * Add show ospf6 debuggging
  * Inline trivial reference count functions
  * Move route_lock_node to fix warnings
  * OSPF vty cleanup
  * OSPF6: don't enable TCP vty port
  * ospfd: make some functions static
  * Avoid N^2 behaviour on redistribute withdraw
  * Allow bgp-import-check to be set

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 13 Nov 2009 16:12:30 -0800

vyatta-quagga (0.99.15-6) unstable; urgency=low

  * Update RIB on interface link state change
  * Make vtysh command args exit if warning received

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 12 Nov 2009 15:37:58 -0800

vyatta-quagga (0.99.15-5) unstable; urgency=low

  [ Denis Ovsienko ]
  * [ospfd] enable more OSPF cost command aliases

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 06 Oct 2009 09:23:48 -0700

vyatta-quagga (0.99.15-4) unstable; urgency=low

  * Fix warnings from zebra rib
  * Pass family to nexthop_active

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 06 Oct 2009 09:22:13 -0700

vyatta-quagga (0.99.15-3) unstable; urgency=low

  * Bugfix 4951: Don't try to start ospf6d if IPv6 kernel module is not
    loaded.

 -- Bob Gilligan <gilligan@vyatta.com>  Tue, 22 Sep 2009 17:11:54 -0700

vyatta-quagga (0.99.15-2) unstable; urgency=low

  * Add more routing protocols to debug output
  * add table to debug message
  * Fix kernel routes lingering when interface brought down

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 14 Sep 2009 12:16:25 -0700

vyatta-quagga (0.99.15-1) unstable; urgency=low

  [ Joakim Tjernlund ]
  * ospfd: Tighten up the connected check for redistribution
  * ospfd: Make sure priority is respected.

  [ Paul Jakma ]
  * lib: if_lookup_by_name should be more robust to null argument
  * zebra: test_main.c should be a bit more helpful about its usage
  * zebra: Add an example config file for testzebra
  * lib/trivial: str2prefix checks return of inet_pton in fragile way

  [ Stephen Hemminger ]
  * bgpd: fix md5 set on listen sockets

  [ Tom Henderson ]
  * ospf6d: bug #529, fix endianness problem in earlier commit

  [ Paul Jakma ]
  * release: 0.99.15

  [ David Ward ]
  * zebra: Fix router advertisements for non-Ethernet link layer
    addresses

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 03 Sep 2009 09:29:46 -0700

vyatta-quagga (0.99.14-11) unstable; urgency=low

  * Fix bgp listen with MD5

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 25 Aug 2009 10:19:04 -0700

vyatta-quagga (0.99.14-10) unstable; urgency=low

  * ospfd: fix performance problem with redistribute delete
  * bgp: compiler warning fix
  * bgp: missing pieces from listener patch
  * all: check return value from daemon() call

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 25 Aug 2009 09:34:15 -0700

vyatta-quagga (0.99.14-9) unstable; urgency=low

  [ Stephen Hemminger ]
  * update .gitignore

  [ Paul Jakma ]
  * bgpd: Fix mistakes in applying 'allow inbound connections to non-
    default view'
  * ospfd: Make "Packet ... received on wrong link" conditional on debug

  [ Joakim Tjernlund ]
  * ospfd: Make sure route table is recalculated.

  [ Stephen Hemminger ]
  * Clean up boot message

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 12 Aug 2009 13:06:59 -0700

vyatta-quagga (0.99.14-8) unstable; urgency=low

  * indentation if rib_update
  * RIB: defer only some updates

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 10 Aug 2009 10:59:29 -0700

vyatta-quagga (0.99.14-7) unstable; urgency=low

  * Check return value from daemon() call
  * Cleanup RIB meta-queue code
  * Zebra: change RIB hold time
  * Zebra: move update to thread

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 07 Aug 2009 17:40:49 -0700

vyatta-quagga (0.99.14-6) unstable; urgency=low

  * zebra: add debugging to nexthop_active
  * bgp: align code with upstream
  * lib: use inline version of route_node_parent
  * zebra: filter out only route related messages
  * trivial alignment with upstream
  * zebra: merge in changes submitted to upstream
  * OSPF: fix performance problem with redistribute delete
  * zebra: update recursive routes in response to dynamic protocols
  * Add a BGP flag to default to import check
  * Show no import-check
  * zebra: remove unused -l from startup
  * BGP: fix function prototype warning.
  * BGP: add other half of bgp listener change

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 06 Aug 2009 21:02:43 -0700

vyatta-quagga (0.99.14-5) unstable; urgency=low

  [ Joakim Tjernlund ]
  * ospfd: Change struct ospf_path *oi to ifindex.

  [ Paul Jakma ]
  * ospfd: update some comments
  * ospfd: neuter some compiler warnings

  [ Stephen Hemminger ]
  * Zebra: remove dead code
  * Fix spelling in comments and strings
  * Route table update
  * Zebra: unify ipv4/ipv6
  * Vty: add vty_serv_sock_family back
  * Align with upstream code
  * fix debian/changelog spelling error

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 03 Aug 2009 16:17:01 -0700

vyatta-quagga (0.99.14-4) unstable; urgency=low

  [ Denis Ovsienko ]
  * Justified OSPF cost function names and added support for:
  * Dmitry Tejblum <tejblum@yandex-team.ru>
  * [bgpd] AS4 bugfix by Chris Caputo <ccaputo@alt.net>

  [ Paul Jakma ]
  * [build] tools/multiple-bgpd.sh should be in 'make dist'

  [ Stephen Hemminger ]
  * Fix bgp ipv4/ipv6 accept handling

  [ Paul Jakma ]
  * [release] Bump version to 0.99.12

  [ Andrew J. Schorr ]
  * [bgpd] 64-bit bugfix in community_del_val by Jeremy Jackson
    <jerj@coplanar.net>

  [ Denis Ovsienko ]
  * [doc] Stick with quagga.net for consistency (#436)
  * [trivia] Fixed typos in communities text (#334)

  [ Steve Hill ]
  * [bgp] Fix crash on SIGHUP, deref of freed workqueues

  [ Krisztian Kovacs ]
  * [ripd] Fix metrix in call to rip_zebra_ipv4_delete

  [ Francesco Dolcini ]
  * [ospfd] fix vty ospfd no ospf abr-type standard

  [ Chris Caputo ]
  * [smux] 64-bit fix for lib/smux.h SNMP_INTEGER() macro
  * [snmp] Compiler warning fixes for when "--enable-snmp" is
    configured.

  [ Denis Ovsienko ]
  * [bgpd] Fixed as-path prepend/exclude ASN handling

  [ Paul Jakma ]
  * [bgpd] Add support for the old Linux 2.4, TCP_MD5_AUTH RFC2385 patch

  [ Stephen Hemminger ]
  * [cleanup] Convert XMALLOC/memset to XCALLOC
  * [cleanup] add const attribute to lib/if.c::if_dump
  * [cleanup] functions taking no args should be declared with void args
  * [cleanup] Make command nodes static
  * [gcc] Add gcc printf format checks
  * [vtysh] Force line buffered mode.
  * [vtysh] Make vtysh more usable for scripting
  * [vtysh] Return non-zero exit code on error.
  * [vtysh] Add a --noerror option

  [ Stig Thormodsrud ]
  * [zebra] Fix vyatta bug 2814: Add "show ip route summary" command.

  [ Stephen Hemminger ]
  * [zebra] netlink interface minor cleanup
  * [zebra] Cleanup meta-queue code
  * [zebra] remove incorrect debug message
  * [zebra] MTU is unsigned
  * [zebra] Only announce connected routes if link is detected
  * [ospfd] Fix OSPF route refcount leak

  [ Jon ]
  * [ospf6d] Fix ospf6d crash if range defined twice
  * [ospf6] Add no router ospf6
  * [ospf6d] Fix ospf6d crash in show border routers
  * [ospf6d] Fix ospf6d crash if removing interface with no area

  [ Stephen Hemminger ]
  * [ospf6d] Remove 'no router' from OSPF6_NODE
  * [lib] sockopt_tcp_signature: sin6 requires HAVE_IPV6
  * [lib] Put symbolic backtrace on system log
  * [ripd] Ignore non-running interfaces in rip status
  * [cleanup] Use correct buffer size for inet_ntop()
  * [zebra] Force rib_update when connected route deleted
  * [zebra] Remove unused structure element
  * [bgpd] Make declarations match
  * [bgpd] reference count the BGP instance
  * [bgpd/cleanup] Make BGP FSM table read-only static
  * [bgpd/cleanup] BGP make attribute variables local
  * [cleanup] Use const in smux interface
  * [cleanup] Fix compile warnings
  * [cleanup] Allow message tables to be constant

  [ Paul Jakma ]
  * [bgpd] add comment that bgp_capability_receive is exported for unit-
    tests

  [ Stephen Hemminger ]
  * [bgpd/cleanup] make message lists read only
  * [OSPF/cleanup] make message lists read only
  * [zebra/cleanup] make message table read only
  * [BGP/cleanup] main program cleanup
  * [BGP/cleanup] make ecommunity variables/functions local
  * [BGP/cleanup] make some damp function static
  * [BGP/cleanup] make community hash table static
  * [BGP/cleanup] make message list in bgp_open const
  * [configure] Detect support for monotonic clock

  [ Paul Jakma ]
  * [configure] Refine CLOCK_MONOTONIC test

  [ Jeremy Jackson ]
  * [doc] Removes documentation of nonexistant option.
  * [daemons/cleanup] Remove disabled log_mode argument support.
  * [configure] add configure support for PCRE Posix library
  * [build] cleanup low-hanging autoreconf warnings
  * [configure] remote support for AIX, it conflicts on newer autoconf
  * [configure/cleanup] fix broken autoconf cache variables
  * [configure] remove unused/broken autoconf cache variable ac_statedir
  * [cleanup] convert bzero() deprecated by POSIX to memset()
  * [configure] fix check for GNU awk/gawk to abort ./configure if
    missing
  * [ospfd/BSD] add missing UINT16_MAX - picked up from FreeBSD ports
    patch

  [ Paul Jakma ]
  * [bgpd] Fix 'update-source' command: It doesn't accept interface
    names

  [ Takashi Sogabe ]
  * Convert ospf6d over to quagga_gettime() wrappers.

  [ Paul Jakma ]
  * [doc] remove -dither arg to imagemagick, in building PDFs

  [ Chris Caputo ]
  * RFC 4191 Default Router Preference support for router advertisements

  [ Dmitry Tejblum ]
  * [ospfd] cancel OSPF timer hack in nsm_change_state

  [ Chris Caputo ]
  * Fixes to RFC2385/MD5 BGP
  * Fix vtysh based "write term" output.
  * Fix "show ip bgp dampened-paths" garbage output.

  [ Jingjing Duan ]
  * [trivia] work around ksh93 builtin name (#451)

  [ Mathieu Goessens ]
  * [zebra] linux policy routing support with ipv6

  [ Denis Ovsienko ]
  * [bgpd] review 32-bit AS-path hotfix for 0.99.12

  [ Dmitry Tejblum ]
  * [ospfd] discount IP header size from a new LSA pkt

  [ Tomasz Pala ]
  * [bgpd] Add 'show ip bgp view WORD neighbors IP
    (advertised|received)-routes'
  * [cleanup] Add log.h includes
  * [configure] Allow for large-file support, e.g. for log files >2GB
  * [vtysh] Save vtysh history to a file

  [ Joakim Tjernlund ]
  * zebra: Static route does not reach kernel.
  * [ospfd] Fix a few LSA performance "bugs"
  * [ospfd] external LSA route_unlock_node() fixes
  * [doc] Add "--disable-doc" to configure
  * [ospfd] compare ifIndex too when matching paths
  * Add test for Internet checksum.

  [ Paul Jakma ]
  * [bgpd] Log a debug/update warning if filters are configured but
    don't exist

  [ Joakim Tjernlund ]
  * [ospfd] Do not use stale Network/Router LSAs

  [ Paul Jakma ]
  * [lib/cleanup] Use a typedef for the thread type

  [ Tom Henderson ]
  * [ospf6d] Fix regression in monotonic time patch - LSA max-aging
    broke

  [ Stephen Hemminger ]
  * [lib] Fix IPv6 normalisation

  [ Paul Jakma ]
  * [bgpd] Bug #533: Fix crash with copy/pasted commands, inc 'no bgp
    ...'
  * [build] fix default CFLAGS and squish warning

  [ Chris Caputo ]
  * [bgpd] Fix compiler warnings related to MD5
  * [bgpd] Stability fixes including bugs 397, 492
  * [zebra] Silence noisy process_subq

  [ Nick Hilliard ]
  * [bgpd] Small buffer overrun in bgp_clear_node_queue_init

  [ Timo Teräs ]
  * [bgpd] Avoid zombie accepted peer entries

  [ Paul Jakma ]
  * [bgpd] fix typo made by paul in previous commit

  [ Vasilis Tsiligiannis ]
  * [bgp] Fix nexthop reachability check on confederations

  [ Paul Jakma ]
  * [build] Bump release to 0.99.14

  [ Thijs Kinkhorst ]
  * [doc] zebra.8 via Christian Hammers (#531)

  [ Denis Ovsienko ]
  * [zebra] do not touch socket before pidfile locking

  [ Paul Jakma ]
  * [bgpd] Restore ability of 'neighbor ... update-source' to take
    interface name

  [ Stephen Hemminger ]
  * ripd: set IP TOS for control socket
  * bgpd: peer action table static/const
  * bgpd: start listener on first instance
  * [global] interface flags format warnings

  [ Vasilis Tsiligiannis ]
  * bgpd: Implement BGP confederation error handling (RFC5065, Par. 5)
  * bgpd: Delete AS_CONFED_SEQUENCE when prepending an AS_SEQUENCE type
    segment

  [ Paul Jakma ]
  * [zebra] Fix crash in test_zebra

  [ Steve Hill ]
  * bgpd: fd leak in bgpd
  * bgpd: Allow inbound connections to non-default view

  [ Paul Jakma ]
  * bgpd/trivial: Fix indentation in previous

  [ Joakim Tjernlund ]
  * ospfd: export ospf_if_table_lookup() and use it in
    ospf_network_run_interface()
  * ospfd: Make ospf_if_lookup_recv_if() find the right unnumbered i/f

  [ Stephen Hemminger ]
  * add missing space to boot message

  [ Paul Jakma ]
  * [doc] Update HACKING

  [ Michael Lambert ]
  * bgpd: Workaround for invalid MBGP next hop

  [ Paul Jakma ]
  * [bgpd] delete erroneous extra brace..

  [ Joakim Tjernlund ]
  * ospfd: Discriminate better when selecting links between vertices in
    SPF

  [ Stephen Hemminger ]
  * fix smux back to original
  * SMUX: don't give up after fixed number of tries

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 30 Jul 2009 15:19:51 -0700

vyatta-quagga (0.99.14-3) unstable; urgency=low

  * Merge branch 'upstream' into kenwood

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 24 Jul 2009 11:57:49 -0700

vyatta-quagga (0.99.14-2) unstable; urgency=low

  * Align files with upstream quagga

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 22 Jul 2009 13:04:24 -0700

vyatta-quagga (0.99.14-1) unstable; urgency=low

  * Merge Quagga 0.99.14 (upstream) into kenwood
  * BGP: create listener when first instance created
  * Use upstream version of BGP files
  * Fix whitespace

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 21 Jul 2009 16:09:02 -0700

vyatta-quagga (0.99.12-8) unstable; urgency=low

  * Allow iBGP to be used for recusive routes
  * Allow RIB to store multiple kernel routes
  * Start all routing daemons at boot time

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 09 Jul 2009 16:47:37 -0700

vyatta-quagga (0.99.12-7) unstable; urgency=low

  [ Denis Ovsienko ]
  * [bgpd] Fixed as-path prepend/exclude ASN handling

 -- Stig Thormodsrud <stig@vyatta.com>  Thu, 18 Jun 2009 15:23:36 -0700

vyatta-quagga (0.99.12-6) unstable; urgency=low

  * UNRELEASED

 -- An-Cheng Huang <ancheng@vyatta.com>  Fri, 29 May 2009 18:37:11 -0700

vyatta-quagga (0.99.12-5) unstable; urgency=low

  * Detect support for monotonic clock

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 28 May 2009 15:35:50 -0700

vyatta-quagga (0.99.12-4) unstable; urgency=low

  [ Michael Lambert ]
  * BGP Community Deletion Bug

  [ Stephen Hemminger ]
  * Allow recursive route with any nexthop

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 27 May 2009 17:58:57 -0700

vyatta-quagga (0.99.12-3) unstable; urgency=low

  * Remove assertion when route clears and peer !Established
  * Bgp socket use static initialization
  * Allow message tables to be constant
  * Fix compile warnings
  * Use const in smux interface
  * BGP make attribute variables local
  * Make BGP FSM table read-only static
  * BGP make some bgp_attr functions static
  * BGP aspath eliminate dead code
  * BGP make flag action table read-only
  * BGP make receive capability static
  * BGP make message list in bgp_open const
  * BGP make community hash table static
  * BGP make some damp function static
  * BGP make ecommunity variables/functions local
  * BGP main program cleanup
  * ZEBRA make message table read only
  * OSPF make message lists read only
  * BGP make message lists read only

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 15 May 2009 11:21:38 -0700

vyatta-quagga (0.99.12-2) unstable; urgency=low

  * Revert "Wait for peers to clear on BGP shutdown"
  * Reference count BGP instance

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 14 May 2009 14:45:27 -0700

vyatta-quagga (0.99.12-1) unstable; urgency=low

  [ Paul Jakma ]
  * [release] Bump version to 0.99.12

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 11 May 2009 16:12:33 -0700

vyatta-quagga (0.99.11-19) unstable; urgency=low

  * Add daemons being shutdown to log
  * Make declarations match
  * Wait for peers to clear on BGP shutdown

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 11 May 2009 12:46:29 -0700

vyatta-quagga (0.99.11-18) unstable; urgency=low

  * Use quagga-manager for start-stop
  * Fix startup log message
  * Be safer in bgp_terminate

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Fri, 08 May 2009 10:40:49 -0700

vyatta-quagga (0.99.11-17) unstable; urgency=low

  [ Stephen Hemminger ]
  * Don't start watchquagga during boot

  [ Timo Teräs ]
  * avoid zombie accepted peer entries

  [ Chris Caputo ]
  * RFC 4191 Default Router Preference support for router advertisements

  [ Stephen Hemminger ]
  * Updates to init script

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 07 May 2009 12:58:34 -0700

vyatta-quagga (0.99.11-16) unstable; urgency=low

  [ Stephen Hemminger ]
  * Only start zebra as part of initial boot

  [ Chris Caputo ]
  * Compiler warning fixes for when --enable-snmp is configured.
  * Fix "show ip bgp dampened-paths" garbage output.

  [ Joakim Tjernlund ]
  * Don't delete too many routes.

  [ Chris Caputo ]
  * 64-bit fix for lib/smux.h SNMP_INTEGER() macro

  [ Stephen Hemminger ]

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 06 May 2009 15:35:39 -0700

vyatta-quagga (0.99.11-15) unstable; urgency=low

  [ Denis Ovsienko ]
  * OSPF cost functions
  * Handle large ASN print formatting

  [ Stephen Hemminger ]
  * Expanding asn path buffer

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 30 Apr 2009 09:03:21 -0700

vyatta-quagga (0.99.11-14) unstable; urgency=low

  * Force rib_update when connected route deleted
  * Remove unused structure element
  * Use INET6_ADDRSTRLEN rather than BUFSIZ
  * Handle kernel flush when address is deleted

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 29 Apr 2009 23:09:34 -0700

vyatta-quagga (0.99.11-13) unstable; urgency=low

  * Rename rib_system_route to interface_manage_mode
  * Rearrange code to print out more info from netlink messages
  * Use correct buffer size for inet_ntop()
  * Use INET6_ADDRSTRLEN instead of BUFSIZ

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 28 Apr 2009 15:26:43 -0700

vyatta-quagga (0.99.11-12) unstable; urgency=low

  * Fix compiler warnings
  * Ignore non-running interfaces in rip status
  * Keep quagga away from kernel routes

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 13 Apr 2009 12:30:49 -0700

vyatta-quagga (0.99.11-11) unstable; urgency=low

  * Zebra: remember metric of kernel route

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 07 Apr 2009 14:20:00 -0700

vyatta-quagga (0.99.11-10) unstable; urgency=low

  [ Joakim Tjernlund ]
  * copy config for renamed interfaces.

  [ Stephen Hemminger ]
  * Cancel thread in work_queue_free

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 06 Apr 2009 22:14:10 -0700

vyatta-quagga (0.99.11-9) unstable; urgency=low

  * Provide debug symbols package

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 11 Mar 2009 21:11:23 -0700

vyatta-quagga (0.99.11-8) unstable; urgency=low

  * Only print message on shutdown if daemon is running
  * Put symbolic backtrace on system log
  * fix email in changelog
  * fix LSB warning
  * Strip the code

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 09 Mar 2009 16:29:35 -0700

vyatta-quagga (0.99.11-7) unstable; urgency=low

  * sockopt_tcp_signature: sin6 requires IPV6
  * Change to only start zebra and watchquagga

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Tue, 24 Feb 2009 14:40:49 -0800

vyatta-quagga (0.99.11-6) unstable; urgency=low

  * Modified version of daemon startup

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 18 Feb 2009 15:32:20 -0800

vyatta-quagga (0.99.11-5) unstable; urgency=low

  [ Jon ]
  * Add no router ospf6
  * Fix ospf6d crash if range defined twice
  * Fix ospf6d crash in show border routers
  * Fix ospf6d crash if removing interface with no area

  [ Stephen Hemminger ]
  * Remove 'no router' from OSPF6_NODE

 -- Stephen Hemminger <shemminger@vyatta.com>  Thu, 12 Feb 2009 01:38:22 -0800

vyatta-quagga (0.99.11-4) unstable; urgency=low

  [ Paul Jakma ]
  * [rpm] some defaults for Fedora are way out of date

  [ Joakim Tjernlund ]
  * [lib] Move type cast in Fletcher checksum
  * [lib] Fix timer precision.

  [ Stephen Hemminger ]
  * Set TOS on RIP packets
  * bgp: change () to (void)
  * revert: don't bother with gcc builtin_expect()
  * whitespace fix
  * Convert XMALLOC/memset to XCALLOC
  * Align bgp with upstream
  * Comment out unused code
  * zebra: rtadv use ansi-c prototoype
  * Comment out unused code
  * ospf: fix function to ansi-c
  * zebra: disambiguate up from operative
  * ospf: extra brace
  * zebra: minor whitespace stuff

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Mon, 09 Feb 2009 15:51:10 -0800

vyatta-quagga (0.99.11-3) unstable; urgency=low

  * stop all daemons on shutdown

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Thu, 05 Feb 2009 11:45:55 -0800

vyatta-quagga (0.99.11-2) unstable; urgency=low

  * Move pid check back to original location
  * Don't start daemons till needed

 -- Stephen Hemminger <stephen.hemminger@vyatta.com>  Wed, 04 Feb 2009 15:19:49 -0800

vyatta-quagga (0.99.11-1) unstable; urgency=low

  [ Stephen Hemminger ]
  * ignore derived files
  * Interface rename changes
  * Ignore delete address message interface is gone
  * Fix management of interface renames

  [ An-Cheng Huang ]
  * "files" file should be removed before package build
  * update maintainer information

  [ Stephen Hemminger ]
  * Handle interfaces coming back from dead
  * Don't delete interface completely when kernel notifies of loss of
    link
  * Use start-stop-daemon to retry
  * Turn on block rearranging.
  * Remember protocol as well as scope in RIB
  * Fix inversion of likely/unlikely in assert
  * Minor whitespace
  * Revert "Add compiler directive to mark code paths that log as cold"
  * Make command nodes static (again)
  * Make command nodes static (again)
  * Use XCALLOC instead of XMALLOC/memset
  * Remove unnecessary modprobe
  * Merge in upstream 0.99.11

  (Tag release)

 -- Stephen Hemminger <shemminger@vyatta.com>  Fri, 19 Dec 2008 11:43:26 -0800

vyatta-quagga (0.99.10-2) unstable; urgency=low

	  3.2.0
  [ Mark O'Brien ]


  [ Joakim Tjernlund ]
  * Fix SEGV in ip ospf neighbor all

  [ Mark O'Brien ]
  * 3.1.4

  [ Stephen Hemminger ]
  * Notify on MTU changes
  * netlink message signed/unsigned cleanup
  * Building with optimization for size gives better performance

  [ Paul Jakma ]
  * [bgpd] bug #419: partial aspath-limit incorrectly causes session
    reset

  [ Stephen Hemminger ]
  * fix ipv6 typo in recursive route update code
  * remove incorrect debug message
  * Add delete interface cleanout
  * Set metric in RIB for connected routes
  * Handle device renames correctly
  * Set proper protocol for routes from command line
  * Fix bgp ipv4/ipv6 accept handling

  [ rbalocca ]
  * Ignore derived file

  [ Mark O'Brien ]
  * 3.1.3

  [ Stephen Hemminger ]
  * Fix up filtering of netlink pid
  * Revert "Filter messages so that only netlink messages from kernel
    are allowed."
  * Use XCALLOC
  * Filter messages so that only netlink messages from kernel are
    allowed.
  * Ignore both names for this package
  * Enable zebra to manage system routes
  * Manage system routes with zebra
  * Update ignore file list
  * Ignore more files
  * Change package name back to vyatta-quagga

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 25 Nov 2008 19:10:51 -0800

vyatta-quagga (0.99.10-1) unstable; urgency=low

	  3.1.4
  [ Mark O'Brien ]


  [ Paul Jakma ]
  * [bgpd] bug #419: partial aspath-limit incorrectly causes session
    reset

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 14 Oct 2008 17:30:19 -0700

vyatta-quagga (0.99.9-13) unstable; urgency=low

	  3.1.3
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Put bug fix for route flapping back
  * Revert "Only set ifindex on set pass"
  * Revert "Fix management of route changes"
  * Fix management of route changes
  * Only set ifindex on set pass

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 19 Aug 2008 17:48:34 -0700

vyatta-quagga (0.99.9-12) unstable; urgency=low

  * Merge in upstream version 0.99.10
  * Rename package from vyatta-quagga to quagga
	  3.1.2

  [ Stephen Hemminger ]
  * Remove routes from FIB.
  * Handle state transistions when there are multiple nexthops
  * Update recursive route when nexthop changes
  * Minor typo in zebra debugging
  * Go back to hiding connected routes from down interfaces
  * Handle races with add/delete of routes
  * Revert "Only announce connected routes if link is detected"
  * Update RIB/FIB on recursive route state changes
  * Make some trivial functions on interfaces inline
  * Fix compiler warnings from incorrect format strings

  [ Mohit Mehta ]
  * Fix Bug 3435 Protocol MIBs are not supported on upgraded system

  [ Stephen Hemminger ]
  * Rescan for next hops after static route change
  * Set IPv4 TOS value for BGP
  * active static route changes for ipv6
  * Fix whitespace in config file
  * Correctly identify/manage all connected static routes
  * Make some rib data structures private
  * Only announce connected routes if link is detected

  [ Mark O'Brien ]

 -- Stephen Hemminger <shemminger@vyatta.com>  Thu, 31 Jul 2008 14:16:57 -0700

vyatta-quagga (0.99.9-11) unstable; urgency=low

	  3.1.1
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Revert "Backout all changes related to using kernel for linkdetect"
  * Revert "Use if_flags_update"
  * Use if_flags_update
  * Backout all changes related to using kernel for linkdetect
  * Fix double free of bgp_table
  * Check for node being freed twice
  * Fix double free in bgp when using route client

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Sat, 28 Jun 2008 11:22:27 -0700

vyatta-quagga (0.99.9-10) unstable; urgency=low

	  3.1.0
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Workaround for package rename vs pam problem
  * Fix vtysh authorization
  * Allow any user in quagga group to run vtysh
  * netlink interface minor stuff
  * get rid of duplicate includes
  * fix compiler warnings
  * only process some isisd files
  * get rid of compiler warnings in OSPF
  * ifdef out dead code
  * fix warning from type mismatch
  * ifdef out dead code
  * flag field printf formatting in debug strings
  * comment out unused code
  * Fix compiler warnings
  * get rid of compiler warnings
  * Handle empty auth string properly
  * Add ipv6 link detect hooks
  * Change how link-detect is configured in build
  * Turn on kernel link-detect
  * ignore cscope and tags files

  [ pilot ]
  * + fix the set statement name
  * + [bgpd] Added new route-map set statement: "as-path ignore"

  [ rbalocca ]
  * Ignore derived files

  [ Stephen Hemminger ]
  * only set non-blocking on netlink socket
  * remove unneeded privledge changes
  * Rearrange RIB structures to save memory
  * Manage link state on non-connected static routes
  * Ignore netlink interface events that don't change state

  [ rbalocca ]
  * Convert to our method of changelog creation

  [ Stephen Hemminger ]
  * Add interface state change logging
  * set/check nl port id on messages
  * Force line buffered mode.

  [ Mohit Mehta ]
  * Remove extraneous smux log messages for routing daemons connectivity
    to snmpd

  [ Stephen Hemminger ]
  * remove watchlink - no longer used

  [ Mohit Mehta ]
  * Dependency for building quagga with snmp support enabled
  * Modifications to quagga to enable bgp, ospf and rip mib traversals

  [ Michael H. Warfield ]
  * TCP MD5SIG patch

  [ paul ]
  * [bgpd] remove unnecessary 0 entries from struct message's
  * [ripd] remove unnecessary 0 entries from struct message's
  * [lib] Fix the struct message LOOKUP function to be more robust
  * [lib/linklist] Enforce "nodes must have data" invariant more
    rigorously

  [ pilot ]
  * + fix bug#326 by rib_lookup_and_pushup()

  [ paul ]
  * [c++] remove/rename some names in headers that clash with C++
    reserved words
  * [tests:bgp] Further tests for 0 sized as_path segments
  * [isisd] Bug #437: fix ssert caused by bad list management
  * [bgpd] fix crash on startup if compiled IPv4-only
  * [solaris] add missing makefile.am dependency

  [ ajs ]
  * [link-detect] Improve BSD support.
  * [link-detect] Improve BSD support.
  * [link-detect] Try to get BSD link-detect to work properly.
  * [link-detect] Static interface routes should behave properly with
    link-detect.

  [ paul ]
  * [lib] add mising UL qualifier to numerical constant
  * [bgpd] Fix number of DoS security issues, restricted to configured
    peers.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 17 Jun 2008 09:27:29 -0700

vyatta-quagga (0.99.9-9) unstable; urgency=low

  3.0.5
  [ Mark O'Brien ]


  [ An-Cheng Huang ]
  * fix package upgrade problem caused by prerm script.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 06 May 2008 12:43:40 -0700

vyatta-quagga (0.99.9-8) unstable; urgency=low

  3.0.4
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * filter out all route change responses on listen socket
  * quiet noisy errors from zebra

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 05 May 2008 16:40:58 -0700

vyatta-quagga (0.99.9-7) unstable; urgency=low

  3.0.3
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * mark static routes as inactive when link is down
  * Don't build watchlink
  * Don't build watchlink
  * Check nexthop for internal routes
  * Check nexthop status
  * Two passes on update (ipv4 and ipv6)

  [ rbalocca ]
  * Indicate the VC4.0.2 release candidate in the changelog

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 29 Apr 2008 16:42:45 -0700

vyatta-quagga (0.99.9-6) unstable; urgency=low

  VC4.0.2
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Disable watchlink from the build
  * go back to building watchlink
  * Don't start watchlink

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Sat, 19 Apr 2008 11:56:27 -0700

vyatta-quagga (0.99.9-5) unstable; urgency=low

  VC4.0.2 release candidate
  [ Mark O'Brien ]

  * 3.0.2

  [ Stephen Hemminger ]
  * interface running status fix
  * Fix packet filter state machine

  [ rbalocca ]
  * Add upgrade test to prerm

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Wed, 16 Apr 2008 09:50:28 -0700

vyatta-quagga (0.99.9-4) unstable; urgency=low

  3.0.2
  [ Mark O'Brien ]

  * 3.0.1

  [ Michael Larson ]
  * bumped up netlink recv buffer limits for zebra--should alleviate
    netlink error msgs that occur under large routing tables when layer
  * support 64bit
  * added interface/address exclusion support to watchlink. The correct
    format is:
  * modified watchlink parser to support the following behaviors:
  * add wildcard for interfaces. use an "*" in place of an interface
    name--and the address provided will exclude all

  [ Stephen Hemminger ]
  * Filter unwanted netlink messages
  * fix build on on 64 bit platforms
  * add locking to prevent file update problems

  [ rbalocca ]
  * Remove unused lintian "ignore" option

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Fri, 04 Apr 2008 18:01:16 -0700

vyatta-quagga (0.99.9-3) unstable; urgency=low

  VC4.0.1
  [ Mark O'Brien ]


  [ Bob Gilligan ]
  * Bugfix: 2845

  [ Michael Larson ]
  * revert behavior for watchlink to pulling/pushing address on
    interface on IFF_RUNNING|IFF_UP event.
  * And with the correct licensing headers.

  [ Mohit Mehta ]
  * Fix Bug 2750 bgp: large ASN shown as negative
  * Fix Bug 2750 bgp: large ASN shown as negative

  [ Stephen Hemminger ]
  * Change license notice from VPL to GPLv2

  [ Stig Thormodsrud ]
  * Fix 2842: Protocol debug does not take affect until underlying log
    level

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 18 Mar 2008 19:05:11 -0700

vyatta-quagga (0.99.9-2) unstable; urgency=low

  vc4.0.0
  [ Mark O'Brien ]


  [ An-Cheng Huang ]
  * remove generated files from repo

  [ Justin Fletcher ]
  * Log to syslog daemon

  [ Michael Larson ]
  * fix for static interface and static nexthop routes for quagga. Now
    respects cable pull (IFF_RUNNING) events and admin (IFF_UP) events.
  * initial check-in of watchlink project. compiles, runs and manages
    state. needs additional testing and updates
  * removed unnecessary files.
  * packaging and make rules for base vyatta-quagga project to build
    watchlink
  * Added quagga like features to watchlink pgm: standard pid file
    creation and background option. Also
  * hooks to start/stop watchlink daemon with quagga
  * create directory for watchlink to store link status
  * moved creation of linkstatus directory from postinst to preinst
    where it should be.
  * cleaned up source a bit. added syslog error messages. added legal-
    eeze.
  * added support for filtering of interfaces. filter or exclusion list
    needs to be be written to exclude
  * removed stderr message when unable to open exclusion file. Also
    downgraded syslog entry to
  * added empty exclude file creation to make watchlink happy
  * fix bug introduced with ptp support--indexing of database and
    initialization of terminating address.
  * fix for bc addr and fix for parsing iface for show cmds and filter
  * need to qualify test for non-ethernet type interfaces to
    newlink/dellink messages only.
  * moved some stderr messages to syslog. removed stderr message when
    receiving ack from kernel on netlink msg.
  * modified watchlink to manage connected routes in local and main
    tables per interface rather than pulling interface address on cable
    pull event.
  * force so_recvbuf size to 223232 (double of 111616) for netlink in
    zebra. will also need to modify
  * fix for bug 2750. will also submit to quagga dvlprs.

  [ Stephen Hemminger ]
  * avoid package conflict between iproute and vyatta-iproute
  * Revert "avoid package conflict between iproute and vyatta-iproute"

  [ Tom Grennan ]
  * ignore autoreconf generated files
  * ignore emacs backups
  * add script to import updates from anoncvs.quagga.net
  * import into the "upstream" branch
  * initial vyatta-quagga debian config
  * finish vyatta debian config
  * use default daemon config files rather than /dev/null
  * fix log files path
  * set default logging
  * ignore debuild generated debian/vyatta-quagga.substvars
  * donot modify existing conffiles
  * separate init of vtysh.conf from other daemons
  * use "log syslog LEVEL" not "log file syslog LEVEL"
  * ignore watchlink binary
  * donot add user "vyatta" to vtysh.conf in preinit, this is now done
    during system config

  [ paul ]
  * [bgpd] Fix typo, which prevented advertisement of MP (non-IPv4)
    prefixes
  * [privs/Solaris] Quagga should work in zones with IP instances
  * [bgpd] Merge AS4 support
  * [tests] Forgot to commit ecommunity_tests.c
  * [news] Fix top-line version
  * [snmp-smux] Fix problems if 'smux peer ...' is issued multiple times
  * [ospf6d] Fix removal of defunct ASBR routes
  * 2007-10-30 Nick Hilliard <nick@inex.ie>
  * [bgpd] small fix for crash if 'listenon' argument is not given
  * [bgpd] Fix typo in previous commit to bgp_main.c

  [ pilot ]
  * * rt_socket.c: (kernel_rtm_ipv4) prefix_buf could be passed
  * Switch from LOOKUP() to lookup() for rtm_type (see bug #401 for
    details).
  * + fixed bug #402: now the second zebra process doesn't destroy
    routes
  * + sayonara old_pid!
  * + fix minor regression in OSPF sending buffer adjustment logic
  * + fix missing arg to zlog_warn()
  * + Minor bugfix: IPv6 prefixes were logged incorrectly in RIB
    debugging calls. Fixed.
  * + rib_process() speedup for multi-nexthop route nodes
  * + pidfiles are now always created with 0644 perms instead if
    LOGFILE_MASK (0600)
  * + fix the bug reported by Milan Kocian (IPv6 route handling was
    broken by the RIB debug changeset).
  * + fixed bug #418 (changing address on an existing interface doesn't
    cause existing static routes to be revalidated)
  * + fixed no_set_aspath_prepend() to correctly match existing "set"
    statement

  [ root ]
  * added support for ifa_address field in rtm_newaddr message and in
    links where the ifa_address != ifa_local then ifa_address is
    populated in setaddr message. fix for bug 2650
  * fix for bug 2648--downgraded some syslog messages and removed some
    from console.
  * fix for bug 2570. increased buffer length from 4096 to 8192
  * fix for ppp--restrict watchlink to ethernet interface types only.
    Filter by checking the ifi_type flag in ifinfomsg hdr from netlink.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 25 Feb 2008 17:39:54 -0800

vyatta-quagga (0.99.9-1) unstable; urgency=low

  * based on upstream/0.99.9 == d68aac0fbecabfb765a42b3c6e5693836dafda99

 -- Tom Grennan <tgrennan@vyatta.com>  Fri, 21 Dec 2007 19:29:50 +0000

